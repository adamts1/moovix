(this.webpackJsonpmoovex=this.webpackJsonpmoovex||[]).push([[0],{58:function(e,t,n){},59:function(e,t,n){},60:function(e,t,n){},84:function(e,t,n){},85:function(e,t,n){},86:function(e,t,n){},87:function(e,t,n){},92:function(e,t,n){"use strict";n.r(t);var s=n(0),c=n.n(s),i=n(22),a=n.n(i),r=(n(58),n(17)),o=(n(59),n(60),n(51)),l=n(20),j=n.n(l),d=n(5),u=n(2),b=function(e){var t=e.setToken,n=Object(d.f)(),s=Object(o.a)({initialValues:{email:""},onSubmit:function(e){t(e.email);j.a.get("https://jsonplaceholder.typicode.com/users/1").then((function(e){localStorage.setItem("token",e.data.email),n.push("/posts:"+e.data.id)}))}});return Object(u.jsxs)("div",{className:"p-login",children:[Object(u.jsx)("h1",{children:"Login"}),Object(u.jsxs)("form",{onSubmit:s.handleSubmit,children:[Object(u.jsx)("label",{htmlFor:"email",children:"Email Address"}),Object(u.jsx)("input",{id:"email",name:"email",type:"email",required:!0,onChange:s.handleChange,value:s.values.email}),Object(u.jsx)("label",{htmlFor:"password",children:"Password"}),Object(u.jsx)("input",{id:"password",name:"password",type:"password",required:!0,onChange:s.handleChange,value:s.values.password}),Object(u.jsx)("div",{children:Object(u.jsx)("button",{type:"submit",children:"Submit"})})]})]})},h=(n(84),n(95)),O=n(97),p=n(96),f=(n(85),n(86),n(98)),x=n(94),m=function(e){var t=e.post,n=e.type,s=e.savePost,c=e.removePost;return Object(u.jsxs)("div",{className:"c-postcard",children:[Object(u.jsx)(f.a,{style:{width:"18rem"},children:Object(u.jsxs)(f.a.Body,{children:[Object(u.jsxs)(f.a.Title,{children:["Title: ",t.title]}),Object(u.jsxs)(f.a.Text,{children:["Body: ",t.body,Object(u.jsxs)("div",{className:"dataInfo",children:["ID: ",t.id,Object(u.jsx)("br",{}),"User ID:",t.userId]})]})]})}),Object(u.jsx)("div",{className:"button-warper",children:"all"==n?Object(u.jsx)(x.a,{onClick:function(){return s(t)},variant:"primary",children:"Save"}):Object(u.jsx)(x.a,{onClick:function(){return c(t)},variant:"primary",children:"Remove"})})]})},v=function(e){var t=e.personalPosts,n=e.removePost;return Object(u.jsx)("div",{children:t?Object(u.jsx)("div",{className:"c-personal",children:t.map((function(e){return Object(u.jsx)(m,{post:e,type:"personal",removePost:n},e.id)}))}):Object(u.jsx)("h1",{children:"No Personal Posts"})})},g=(n(87),function(e){var t=e.posts,n=e.savePost;return Object(u.jsx)("div",{children:t?Object(u.jsx)("div",{className:"c-all",children:t.map((function(e){return Object(u.jsx)(m,{post:e,type:"all",savePost:n},e.id)}))}):Object(u.jsx)("h1",{children:"No Posts"})})}),y=n(48),P=function e(t){Object(y.a)(this,e),this.id=t.id,this.userId=t.userId,this.title=t.title,this.body=t.body},S=function(e){var t=e.token,n=Object(s.useState)(""),c=Object(r.a)(n,2),i=c[0],a=c[1],o=Object(s.useState)(),l=Object(r.a)(o,2),b=l[0],f=l[1],x=Object(s.useState)(),m=Object(r.a)(x,2),y=m[0],S=m[1],w=Object(s.useState)(),I=Object(r.a)(w,2),k=I[0],N=I[1],C=Object(d.f)(),T=Object(d.g)().index;Object(s.useEffect)((function(){if(localStorage.getItem("token")===t){j.a.get("https://jsonplaceholder.typicode.com/posts").then((function(e){f(e.data)}))}else C.push("/")}),[]),Object(s.useEffect)((function(){if(b){var e=T.replace(/[/:] ?/g,""),t=b.filter((function(t){return t.userId==e})).map((function(e){return new P(e)}));S(t);var n=b.filter((function(t){return t.userId!=e})).map((function(e){return new P(e)}));N(n)}}),[b]);return Object(u.jsx)("div",{className:"p-posts",children:Object(u.jsxs)(h.a,{children:[Object(u.jsx)("h1",{children:"Posts"}),Object(u.jsxs)(O.a,{id:"controlled-tab-example",activeKey:i,onSelect:function(e){return a(e)},children:[Object(u.jsx)(p.a,{eventKey:"personal",title:"Personal Posts"}),Object(u.jsx)(p.a,{eventKey:"all",title:"All Posts"})]}),Object(u.jsx)("hr",{}),"personal"===i&&Object(u.jsx)(v,{personalPosts:y,removePost:function(e){S(y.filter((function(t){return t.id!==e.id})))}}),"all"===i&&Object(u.jsx)(g,{posts:k,savePost:function(e){S(y.concat(e))}})]})})},w=n(18);var I=function(){var e=Object(s.useState)(),t=Object(r.a)(e,2),n=t[0],c=t[1];return Object(s.useEffect)((function(){window.localStorage.removeItem("token")}),[]),Object(u.jsx)("div",{className:"App",children:Object(u.jsx)(w.a,{children:Object(u.jsxs)(d.c,{children:[Object(u.jsx)(d.a,{exact:!0,path:"/",children:Object(u.jsx)(b,{setToken:function(e){return c(e)}})}),Object(u.jsx)(d.a,{exact:!0,path:"/posts:index",children:Object(u.jsx)(S,{token:n})})]})})})},k=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,99)).then((function(t){var n=t.getCLS,s=t.getFID,c=t.getFCP,i=t.getLCP,a=t.getTTFB;n(e),s(e),c(e),i(e),a(e)}))};j.a.interceptors.request.use((function(e){var t=localStorage.getItem("token");return e.headers.Authorization=t,e})),a.a.render(Object(u.jsx)(c.a.StrictMode,{children:Object(u.jsx)(I,{})}),document.getElementById("root")),k()}},[[92,1,2]]]);
//# sourceMappingURL=main.cb42d61a.chunk.js.map